FUNCTION SelectSources(q, K, Σ, U)
  INPUT:
    quad pattern query q
    access keys K
    summary for each quad component: Σ.subject, Σ.predicate, Σ.object, Σ.graph
    list of sources U
  OUTPUT:
    list of selected sources
FOREACH c in [subject, predicate, object, graph]
  IF q.c not variable
    FOREACH k in K
      IF ! Summary_Contains(Σ.c, q.c, k, ε)
        RETURN []
      FOREACH u in U
        IF ! Summary_Contains(Σ.c, q.c, k, u)
          remove u from U
RETURN U
